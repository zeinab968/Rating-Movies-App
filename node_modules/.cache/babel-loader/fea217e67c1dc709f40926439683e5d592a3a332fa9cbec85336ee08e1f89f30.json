{"ast":null,"code":"const API_URL = 'http://localhost:3001/movies';\n// GET \nexport const fetchMovies = async () => {\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok) throw new Error('Failed to fetch movies');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching movies:', error);\n    throw error;\n  }\n};\n\n// POST  \nexport const addMovie = async movieData => {\n  try {\n    const response = await fetch(API_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(movieData)\n    });\n    if (!response.ok) throw new Error('Failed to add movie');\n    return await response.json();\n  } catch (error) {\n    console.error('Error adding movie:', error);\n    throw error;\n  }\n};\n\n// PUT \nexport const updateMovie = async (id, movieData) => {\n  try {\n    const response = await fetch(`${API_URL}/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(movieData)\n    });\n    if (!response.ok) throw new Error('Failed to update movie');\n    return await response.json();\n  } catch (error) {\n    console.error('Error updating movie:', error);\n    throw error;\n  }\n};\n\n// DELETEحذف فيلم\nexport const deleteMovie = async id => {\n  try {\n    const response = await fetch(`${API_URL}/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) throw new Error('Failed to delete movie');\n  } catch (error) {\n    console.error('Error deleting movie:', error);\n    throw error;\n  }\n};\n\n// PATCH - تحديث الـ rating فقط (أسرع من PUT)\nexport const updateRating = async (id, rating) => {\n  try {\n    const response = await fetch(`${API_URL}/${id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        rating\n      })\n    });\n    if (!response.ok) throw new Error('Failed to update rating');\n    return await response.json();\n  } catch (error) {\n    console.error('Error updating rating:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["API_URL","fetchMovies","response","fetch","ok","Error","json","error","console","addMovie","movieData","method","headers","body","JSON","stringify","updateMovie","id","deleteMovie","updateRating","rating"],"sources":["C:/Users/sham/Desktop/movies-app/src/services/movieService.js"],"sourcesContent":["const API_URL = 'http://localhost:3001/movies';\r\n// GET \r\nexport const fetchMovies = async () => {\r\n  try {\r\n    const response = await fetch(API_URL);\r\n    if (!response.ok) throw new Error('Failed to fetch movies');\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching movies:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// POST  \r\nexport const addMovie = async (movieData) => {\r\n  try {\r\n    const response = await fetch(API_URL, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(movieData)\r\n    });\r\n    if (!response.ok) throw new Error('Failed to add movie');\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error adding movie:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// PUT \r\nexport const updateMovie = async (id, movieData) => {\r\n  try {\r\n    const response = await fetch(`${API_URL}/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(movieData)\r\n    });\r\n    if (!response.ok) throw new Error('Failed to update movie');\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error updating movie:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// DELETEحذف فيلم\r\nexport const deleteMovie = async (id) => {\r\n  try {\r\n    const response = await fetch(`${API_URL}/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n    if (!response.ok) throw new Error('Failed to delete movie');\r\n  } catch (error) {\r\n    console.error('Error deleting movie:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// PATCH - تحديث الـ rating فقط (أسرع من PUT)\r\nexport const updateRating = async (id, rating) => {\r\n  try {\r\n    const response = await fetch(`${API_URL}/${id}`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ rating })\r\n    });\r\n    if (!response.ok) throw new Error('Failed to update rating');\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error updating rating:', error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}